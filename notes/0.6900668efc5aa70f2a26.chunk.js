webpackJsonp([0],{1123:function(t,e,n){"use strict";var o=n(0),i=n(1129),r=n(1135),s=n(1134),a=n(1133),c=n(537),p=n(1138),d=n(1137),l=n(1124),u=n(1125),f=function(){function NotesPageModule(){}return NotesPageModule=__decorate([o.NgModule({imports:[c.SharedModule,d.ROUTING,l.EffectsModule.run(p.NotesEffects)],declarations:[i.NotesPage,r.Note,s.StretchByContentDirective,a.CollapseDirective],providers:[u.NotesActions]}),__metadata("design:paramtypes",[])],NotesPageModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=f},1124:function(t,e,n){"use strict";var o=n(1128),i=n(1126),r=n(1131),s=n(1127),a=n(1132);n.d(e,"mergeEffects",function(){return o.a}),n.d(e,"Effect",function(){return o.b}),n.d(e,"Actions",function(){return i.a}),n.d(e,"EffectsModule",function(){return r.a}),n.d(e,"EffectsSubscription",function(){return s.a}),n.d(e,"toPayload",function(){return a.a})},1125:function(t,e,n){"use strict";var o=n(0),i=n(305),r=function(){function NotesActions(t){this._store=t}return NotesActions=__decorate([o.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Store&&i.Store)&&t||Object])],NotesActions);var t}();e.NotesActions=r},1126:function(t,e,n){"use strict";var o=n(0),i=n(305),r=n(1),s=(n.n(r),n(308));n.n(s);n.d(e,"a",function(){return c});var a=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},c=function(t){function Actions(e){t.call(this),this.source=e}return a(Actions,t),Actions.prototype.lift=function(t){var e=new Actions(this);return e.operator=t,e},Actions.prototype.ofType=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return s.filter.call(this,function(e){var n=e.type,o=t.length;if(1===o)return n===t[0];for(var i=0;i<o;i++)if(t[i]===n)return!0;return!1})},Actions.decorators=[{type:o.Injectable}],Actions.ctorParameters=[{type:r.Observable,decorators:[{type:o.Inject,args:[i.Dispatcher]}]}],Actions}(r.Observable)},1127:function(t,e,n){"use strict";var o=n(0),i=n(305),r=n(20),s=(n.n(r),n(534)),a=(n.n(s),n(1128));n.d(e,"b",function(){return p}),n.d(e,"a",function(){return d});var c=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},p=new o.OpaqueToken("ngrx/effects: Effects"),d=function(t){function EffectsSubscription(e,n,o){t.call(this),this.store=e,this.parent=n,Boolean(n)&&n.add(this),Boolean(o)&&this.addEffects(o)}return c(EffectsSubscription,t),EffectsSubscription.prototype.addEffects=function(t){var e=t.map(a.a),n=s.merge.apply(void 0,e);this.add(n.subscribe(this.store))},EffectsSubscription.prototype.ngOnDestroy=function(){this.closed||this.unsubscribe()},EffectsSubscription.decorators=[{type:o.Injectable}],EffectsSubscription.ctorParameters=[{type:void 0,decorators:[{type:o.Inject,args:[i.Store]}]},{type:EffectsSubscription,decorators:[{type:o.Optional},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Optional},{type:o.Inject,args:[p]}]}],EffectsSubscription}(r.Subscription)},1128:function(t,e,n){"use strict";function Effect(t){var e=(void 0===t?{dispatch:!0}:t).dispatch;return function(t,n){Reflect.hasOwnMetadata(r,t)||Reflect.defineMetadata(r,[],t);var o=Reflect.getOwnMetadata(r,t),i={propertyName:n,dispatch:e};Reflect.defineMetadata(r,o.concat([i]),t)}}function getEffectsMetadata(t){var e=Object.getPrototypeOf(t);return Reflect.hasOwnMetadata(r,e)?Reflect.getOwnMetadata(r,e):[]}function mergeEffects(t){var e=getEffectsMetadata(t).map(function(e){var n=e.propertyName,o=e.dispatch,r="function"==typeof t[n]?t[n]():t[n];return o===!1?i.ignoreElements.call(r):r});return o.merge.apply(void 0,e)}var o=n(534),i=(n.n(o),n(538));n.n(i);e.b=Effect,e.a=mergeEffects;var r="@ngrx/effects"},1129:function(t,e,n){"use strict";var o=n(56),i=n(0),r=n(81),s=n(305),a=n(1124),c=n(199),p=n(536),d=n(1125),l=n(1136),u=n(307),f=n(535),h=n(306),m=function(t){function NotesPage(e,n,i,r,s,a,c){t.call(this,r,NotesPage.reducers),this.fb=e,this.router=n,this.store=i,this.storeService=r,this.noteActions=s,this.actions$=a,this.af=c,this.notesList=this.af.database.list("/todos"),this.isEditingNote={},this.newNoteForm=this.fb.group({title:["",[o.Validators.required]],description:["",[o.Validators.required]]}),this.af.auth.subscribe(function(t){return console.log(t)})}return __extends(NotesPage,t),NotesPage.initialize=function(){NotesPage.reducers={note:l.notesReducer}},NotesPage.prototype.login=function(){this.af.auth.login({provider:u.AuthProviders.Google,method:u.AuthMethods.Popup})},NotesPage.prototype.logout=function(){this.af.auth.logout()},NotesPage.prototype.addNote=function(){var t=Object.assign({id:Math.random()},this.newNoteForm.value);this.notesList.push(t),this.newNoteForm.setValue({title:"",description:""})},NotesPage.prototype.removeNote=function(t){this.notesList.remove(t.$key)},NotesPage.prototype.editNote=function(t){this.isEditingNote[t.id]=!0},NotesPage.prototype.saveNote=function(t){this.isEditingNote[t.id]=!1,this.notesList.update(t.$key,h.pick(t,["id","title","description"]))},NotesPage.prototype.updateLayout=function(){this.masonryCnt.layout()},NotesPage.prototype.onInit=function(){},NotesPage.prototype.onDestroy=function(){},__decorate([i.ViewChild("masonryContainer"),__metadata("design:type","function"==typeof(e="undefined"!=typeof f.AngularMasonry&&f.AngularMasonry)&&e||Object)],NotesPage.prototype,"masonryCnt",void 0),NotesPage=__decorate([i.Component({selector:"notes-page",template:n(1142),styles:[n(1140)]}),__metadata("design:paramtypes",["function"==typeof(p="undefined"!=typeof o.FormBuilder&&o.FormBuilder)&&p||Object,"function"==typeof(m="undefined"!=typeof r.Router&&r.Router)&&m||Object,"function"==typeof(y="undefined"!=typeof s.Store&&s.Store)&&y||Object,"function"==typeof(g="undefined"!=typeof c.StoreService&&c.StoreService)&&g||Object,"function"==typeof(v="undefined"!=typeof d.NotesActions&&d.NotesActions)&&v||Object,"function"==typeof(b="undefined"!=typeof a.Actions&&a.Actions)&&b||Object,"function"==typeof(E="undefined"!=typeof u.AngularFire&&u.AngularFire)&&E||Object])],NotesPage);var e,p,m,y,g,v,b,E}(p.AbstractSmartComponent);e.NotesPage=m,m.initialize()},1130:function(t,e,n){"use strict";function runAfterBootstrapEffects(t,e){return function(){var n=t.get(i,!1);n&&e.addEffects(n)}}var o=n(0);n.d(e,"a",function(){return i}),e.b=runAfterBootstrapEffects;var i=new o.OpaqueToken("ngrx:effects: Bootstrap Effects")},1131:function(t,e,n){"use strict";var o=n(0),i=n(1126),r=n(1127),s=n(1130);n.d(e,"a",function(){return a});var a=function(){function EffectsModule(){}return EffectsModule.run=function(t){return{ngModule:EffectsModule,providers:[r.a,t,{provide:r.b,useExisting:t,multi:!0}]}},EffectsModule.runAfterBootstrap=function(t){return{ngModule:EffectsModule,providers:[t,{provide:s.a,useExisting:t,multi:!0}]}},EffectsModule.decorators=[{type:o.NgModule,args:[{providers:[i.a,r.a,{provide:o.APP_BOOTSTRAP_LISTENER,multi:!0,deps:[o.Injector,r.a],useFactory:s.b}]}]}],EffectsModule.ctorParameters=[],EffectsModule}()},1132:function(t,e,n){"use strict";function toPayload(t){return t.payload}e.a=toPayload},1133:function(t,e,n){"use strict";(function(t,o){var i=n(0),r=function(){function CollapseDirective(t){this.el=t}return CollapseDirective.prototype.ngOnInit=function(){this.$masonryEl=t(this.el.nativeElement).closest("[masonry-brick]"),this.insideMasonry=this.$masonryEl.length>0},CollapseDirective.prototype.ngOnChanges=function(t){var e=this.el.nativeElement,n=!e.classList.contains("collapse-initialized");n&&e.classList.add("collapse-initialized"),this.toggleCollapse(t.isCollapsed.currentValue,n)},CollapseDirective.prototype.toggleCollapse=function(e,n){var i=t(this.el.nativeElement),r=i.height();return n?void o.set(i,{height:e?0:"auto"}):(e?o.to(i,.2,{height:0}):(o.set(i,{height:"auto"}),r=i.height(),o.from(i,.2,{height:0})),void(this.insideMasonry&&(e?this.$masonryEl.height(this.$masonryEl.height()-r):this.$masonryEl.height(this.$masonryEl.height()+r))))},__decorate([i.Input(),__metadata("design:type",Boolean)],CollapseDirective.prototype,"isCollapsed",void 0),CollapseDirective=__decorate([i.Directive({selector:"[collapse]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ElementRef&&i.ElementRef)&&e||Object])],CollapseDirective);var e}();e.CollapseDirective=r}).call(e,n(34),n(480))},1134:function(t,e,n){"use strict";var o=n(0),i=function(){function StretchByContentDirective(t){this.el=t}return StretchByContentDirective.prototype.ngOnInit=function(){this.updateHeight()},StretchByContentDirective.prototype.updateHeight=function(){var t=this.el.nativeElement;t.style.height="0px",t.style.height=t.scrollHeight+5+"px"},__decorate([o.HostListener("input"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],StretchByContentDirective.prototype,"updateHeight",null),StretchByContentDirective=__decorate([o.Directive({selector:"[stretch-by-content]"}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.ElementRef&&o.ElementRef)&&t||Object])],StretchByContentDirective);var t}();e.StretchByContentDirective=i},1135:function(t,e,n){"use strict";var o=n(0),i=n(56),r=n(306),s=function(){function Note(t,e){this.fb=t,this.el=e,this.onEdit=new o.EventEmitter,this.onRemove=new o.EventEmitter,this.onSave=new o.EventEmitter,this.onUpdateLayout=new o.EventEmitter,this.noteForm=this.fb.group({title:["",[i.Validators.required]],description:["",[i.Validators.required]]}),this.isCollapsed=!1}return Note.prototype.ngOnInit=function(){},Note.prototype.editNote=function(t){this.onEdit.emit(t),this.noteForm.setValue({title:t.title,description:t.description}),this.onUpdateLayout.emit()},Note.prototype.removeNote=function(t){this.onRemove.emit(t)},Note.prototype.saveNote=function(t){t=Object.assign(t,this.noteForm.getRawValue()),this.onSave.emit(t),this.onUpdateLayout.emit()},Note.prototype.linksFormatter=function(t){var e=/(http[^\s]+)/g;return t=r.escape(t),t.replace(e,'<a href="$1" target="_blank" rel="nofollow noopener" style="color: #fff;">$1</a>')},Note.prototype.toggleCollapse=function(){this.isCollapsed=!this.isCollapsed,this.onUpdateLayout.emit()},__decorate([o.Input(),__metadata("design:type",Boolean)],Note.prototype,"isEditingNote",void 0),__decorate([o.Input(),__metadata("design:type",Object)],Note.prototype,"note",void 0),__decorate([o.Output(),__metadata("design:type","function"==typeof(t="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&t||Object)],Note.prototype,"onEdit",void 0),__decorate([o.Output(),__metadata("design:type","function"==typeof(e="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&e||Object)],Note.prototype,"onRemove",void 0),__decorate([o.Output(),__metadata("design:type","function"==typeof(s="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&s||Object)],Note.prototype,"onSave",void 0),__decorate([o.Output(),__metadata("design:type","function"==typeof(a="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&a||Object)],Note.prototype,"onUpdateLayout",void 0),Note=__decorate([o.Component({selector:"note",template:n(1141),styles:[n(1139)],changeDetection:o.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",["function"==typeof(c="undefined"!=typeof i.FormBuilder&&i.FormBuilder)&&c||Object,"function"==typeof(p="undefined"!=typeof o.ElementRef&&o.ElementRef)&&p||Object])],Note);var t,e,s,a,c,p}();e.Note=s},1136:function(t,e){"use strict";var n={};e.notesReducer=function(t,e){void 0===t&&(t=n);e.payload;switch(e.type){default:return t}}},1137:function(t,e,n){"use strict";var o=n(81),i=n(1129),r=[{path:"",component:i.NotesPage,pathMatch:"full"}];e.ROUTING=o.RouterModule.forChild(r)},1138:function(t,e,n){"use strict";var o=n(0),i=n(1124),r=n(199),s=n(1125),a=function(){function NotesEffects(t,e,n){this.actions$=t,this.authService=e,this.loginActions=n}return NotesEffects=__decorate([o.Injectable(),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Actions&&i.Actions)&&t||Object,"function"==typeof(e="undefined"!=typeof r.AuthService&&r.AuthService)&&e||Object,"function"==typeof(n="undefined"!=typeof s.NotesActions&&s.NotesActions)&&n||Object])],NotesEffects);var t,e,n}();e.NotesEffects=a},1139:function(t,e){t.exports='.note-item {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  padding: 10px 15px 20px; }\n  .note-item .remove-note {\n    position: absolute;\n    top: 12px;\n    right: 12px;\n    font-style: normal;\n    cursor: pointer;\n    color: #FFFFFF;\n    transform: scale(2); }\n  .note-item .edit-note {\n    position: absolute;\n    top: 12px;\n    left: 12px;\n    font-style: normal;\n    cursor: pointer;\n    color: #FFFFFF;\n    transform: scale(2); }\n  .note-item .save-note {\n    position: absolute;\n    top: 12px;\n    left: 12px;\n    font-style: normal;\n    cursor: pointer;\n    color: #FFFFFF;\n    transform: scale(2); }\n    .note-item .save-note:disabled, .note-item .save-note[disabled="disabled"], .note-item .save-note .disabled {\n      cursor: not-allowed;\n      opacity: 0.5; }\n    .note-item .save-note .disabled {\n      pointer-events: none; }\n  .note-item .note-title .edit-input, .note-item .note-title .edit-description, .note-item .note-description .edit-input, .note-item .note-description .edit-description {\n    color: #000000; }\n  .note-item .note-title .edit-input, .note-item .note-description .edit-input {\n    display: block;\n    margin: 0 auto;\n    width: calc(100% - 34px);\n    text-align: center; }\n  .note-item .note-title {\n    margin: 0;\n    padding: 15px 0 10px;\n    text-align: center; }\n  .note-item .note-description {\n    overflow: hidden;\n    margin-bottom: 5px; }\n  .note-item div:not(.note-for-edit-cnt) .note-title, .note-item div:not(.note-for-edit-cnt) .note-description {\n    white-space: pre-wrap;\n    word-wrap: break-word; }\n  .note-item .toggle-collapse {\n    background: #663399;\n    cursor: pointer;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    text-align: center;\n    height: 20px; }\n    .note-item .toggle-collapse .icon-double-arrow {\n      display: inline-block; }\n    .note-item .toggle-collapse.is-collapsed .arrow-path {\n      transform: rotate(0deg); }\n    .note-item .toggle-collapse:hover .arrow-path {\n      opacity: 1; }\n    .note-item .toggle-collapse .arrow-path {\n      stroke: #FFF;\n      fill: none;\n      stroke-width: 2px;\n      opacity: 0.65;\n      transition: opacity 0.1s linear;\n      transform-origin: center;\n      transform: rotate(180deg); }\n'},1140:function(t,e){t.exports='.input-form {\n  border: 0;\n  background: #3949AB;\n  padding: 15px;\n  transition: box-shadow 0.2s ease-in;\n  box-shadow: 0 0 0 transparent; }\n  .input-form:hover {\n    box-shadow: 0px 5px 30px 5px rgba(0, 0, 0, 0.6); }\n  .input-form .title-input-container, .input-form .description-input-container {\n    margin-bottom: 15px; }\n  .input-form .title-input {\n    font-size: 24px;\n    padding: 10px 15px; }\n  .input-form .description-area {\n    font-size: 16px;\n    padding: 10px 15px;\n    max-width: 100%; }\n  .input-form .btn-add-note {\n    border: 0;\n    background: #F44336;\n    color: #FFEBEE;\n    padding: 10px 15px;\n    cursor: pointer; }\n    .input-form .btn-add-note:disabled, .input-form .btn-add-note[disabled="disabled"], .input-form .btn-add-note .disabled {\n      cursor: not-allowed;\n      opacity: 0.5; }\n    .input-form .btn-add-note .disabled {\n      pointer-events: none; }\n\n.notes-container {\n  margin-bottom: 20px; }\n\nnote {\n  width: 100%;\n  display: inline-block;\n  background: #663399;\n  margin-top: 20px;\n  color: #FFFFFF;\n  position: relative;\n  vertical-align: top;\n  overflow: hidden;\n  transition: box-shadow 0.2s ease-in;\n  box-shadow: 0 0 0 transparent; }\n  note:hover {\n    box-shadow: 0px 5px 30px 5px rgba(0, 0, 0, 0.6); }\n\n@media all and (min-width: 520px) {\n  .notes-container {\n    margin-right: -20px; }\n  .note-wrap {\n    margin-right: 20px; } }\n\n@media all and (min-width: 520px) and (max-width: 779px) {\n  .note-wrap {\n    width: calc(50% - 20px); } }\n\n@media all and (min-width: 780px) {\n  .note-wrap {\n    width: 240px; } }\n'},1141:function(t,e){t.exports='<form [formGroup]="noteForm"\n      class="note-item"\n      novalidate>\n\n  <i class="glyphicon glyphicon-remove remove-note"\n     (click)="removeNote(note)"></i>\n\n  <i class="glyphicon glyphicon-pencil edit-note"\n     (click)="editNote(note)"\n     [hidden]="isEditingNote"></i>\n\n  <i class="glyphicon glyphicon-floppy-disk save-note"\n     (click)="noteForm.valid && saveNote(note)"\n     [hidden]="!isEditingNote"\n     [class.disabled]="!noteForm.valid"></i>\n\n  <div *ngIf="!isEditingNote">\n    <h3 class="note-title">{{note.title}}</h3>\n    <div class="note-description"\n         [innerHTML]="linksFormatter(note.description)"\n         collapse\n         [isCollapsed]="isCollapsed"></div>\n  </div>\n\n  <div class="note-for-edit-cnt"\n       *ngIf="isEditingNote">\n    <h3 class="note-title">\n      <input class="edit-input"\n             type="text"\n             placeholder="Enter title here..."\n             [formControl]="noteForm.controls.title"/>\n    </h3>\n    <div class="note-description"\n         collapse\n         [isCollapsed]="isCollapsed">\n        <textarea class="w100 mw100 edit-description"\n                  placeholder="Enter description here..."\n                  [formControl]="noteForm.controls.description"\n                  stretch-by-content></textarea>\n    </div>\n  </div>\n\n  <div class="toggle-collapse" (click)="toggleCollapse()" [ngClass]="{\'is-collapsed\': isCollapsed}">\n    <svg class="icon-double-arrow"\n         width="40"\n         height="20">\n      <path class="arrow-path" d="M 1 1 L 20 10 L 40 1 M 1 6 L 20 15 L 40 6"></path>\n    </svg>\n  </div>\n</form>\n'},1142:function(t,e){t.exports='<div class="wh100 notes-page">\n\n  <h1 class="text-center">Notes</h1>\n\n  <form [formGroup]="newNoteForm"\n        (ngSubmit)="newNoteForm.valid && addNote()"\n        class="input-form w100"\n        novalidate>\n    <div class="title-input-container">\n      <input type="text"\n             class="title-input w100"\n             placeholder="Enter some title here..."\n             [formControl]="newNoteForm.controls.title">\n    </div>\n    <div class="description-input-container">\n      <textarea class="description-area w100"\n                [formControl]="newNoteForm.controls.description"\n                placeholder="Enter some description here..."\n                stretch-by-content></textarea>\n    </div>\n    <div class="buttons-container">\n      <button class="btn-add-note"\n              type="submit"\n              [disabled]="!newNoteForm.valid">\n        Add!\n      </button>\n      <!--<button class="btn btn-primary" (click)="login()">login</button>\n      <button class="btn btn-warning" (click)="logout()">logout</button>\n      <button class="btn btn-default" (click)="updateLayout()">update layout</button>-->\n    </div>\n  </form>\n\n  <div class="notes-container"\n       masonry\n       [options]="{ transitionDuration: \'0.3s\' }"\n       #masonryContainer>\n    <div class="note-wrap"\n         masonry-brick\n         *ngFor="let note of notesList | async">\n      <note [note]="note"\n            [isEditingNote]="isEditingNote[note.id]"\n            (onEdit)="editNote($event)"\n            (onRemove)="removeNote($event)"\n            (onSave)="saveNote($event)"\n            (onUpdateLayout)="updateLayout()"></note>\n    </div>\n  </div>\n\n</div>\n'}});